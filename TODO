Client.pm
replace getClient with
# If the ID is undef, that means we have a new client.
sub getClient {
	my $id  = shift || return undef;
	my $ret = $clientHash{$id};

	# Try a brute for match for the client.
	if (!defined($ret)) {
   		 for my $value ( values %clientHash ) {
			return $value if ($value->ipport) eq $id);
			return $value if ($value->ip) eq $id);
			return $value if ($value->name) eq $id);
			return $value if ($value->id) eq $id);
		}
		# none of these matched, so return undef
		return undef;
	}

	return($ret);
}